map "http://fhir.org/guides/who/smart-immunization/StructureMap/IMMZ-C-QRToLM" = "IMMZ-C-QRToLM"

uses "http://hl7.org/fhir/StructureDefinition/QuestionnaireResponse" alias QResp as source
uses "http://fhir.org/guides/who/smart-immunization/StructureDefinition/IMMZ-C-register-client" alias IMMZC as target

group QRespToIMMZC (
  source qr : QResp,
  target immzc : IMMZC
) {
  qr.item as item then {

    item.answer first as answer where item.linkId = 'uniqueId' then {
      answer.value as content -> immzc.uniqueId = content  "set identifier";
    } "first answer for identifier";

  } "process items";

}
